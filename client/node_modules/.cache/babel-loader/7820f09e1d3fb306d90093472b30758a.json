{"ast":null,"code":"import _classCallCheck from \"/Users/sanjay_patil2/Desktop/bootcamp/sentibot/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/sanjay_patil2/Desktop/bootcamp/sentibot/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/sanjay_patil2/Desktop/bootcamp/sentibot/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/sanjay_patil2/Desktop/bootcamp/sentibot/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/sanjay_patil2/Desktop/bootcamp/sentibot/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/sanjay_patil2/Desktop/bootcamp/sentibot/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/sanjay_patil2/Desktop/bootcamp/sentibot/client/src/pages/login.js\";\nimport React, { Component } from \"react\";\nimport Google from \"./google.js\";\nimport API from \"../utils/Api\";\nimport { Redirect } from \"react-router-dom\";\n\nvar Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      showGoogle: \"\",\n      redirect: \"\"\n    };\n\n    _this.checkUser = function () {\n      // console.log(event.target.value)\n      API.checkUser() // .then(res => this.setState({ user: res.data.user.username }))\n      .then(function (res) {\n        console.log(res);\n\n        if (res.data !== \"NoUser\") {\n          console.log(\"in redirect\"); // return <Redirect to=\"/login\" />\n\n          _this.setState({\n            redirect: \"Yes\"\n          });\n        }\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.google = function () {\n      _this.setState({\n        showGoogle: true\n      });\n    };\n\n    _this.renderPage = function () {\n      if (_this.state.showGoogle) {\n        return /*#__PURE__*/React.createElement(Google, {\n          __self: _assertThisInitialized(_assertThisInitialized(_this)),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 20\n          }\n        });\n      }\n\n      ;\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.checkUser();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.state.redirect ? /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/home\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 34\n        }\n      }) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }\n      }, \"Welcome to SentiBot. Please Log in.\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: this.google,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }\n      }, \"Login\"), /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick() {\n          return window.location = '/signup';\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }\n      }, \"Sign Up\"), this.renderPage());\n    }\n  }]);\n\n  return Login;\n}(Component);\n\n;\nexport default Login;","map":{"version":3,"sources":["/Users/sanjay_patil2/Desktop/bootcamp/sentibot/client/src/pages/login.js"],"names":["React","Component","Google","API","Redirect","Login","state","showGoogle","redirect","checkUser","then","res","console","log","data","setState","catch","err","google","renderPage","window","location"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,SAASC,QAAT,QAAyB,kBAAzB;;IAEMC,K;;;;;;;;;;;;;;;UAEFC,K,GAAQ;AACJC,MAAAA,UAAU,EAAE,EADR;AAEJC,MAAAA,QAAQ,EAAE;AAFN,K;;UAWRC,S,GAAY,YAAM;AACd;AACAN,MAAAA,GAAG,CAACM,SAAJ,GACI;AADJ,OAEKC,IAFL,CAEU,UAAAC,GAAG,EAAI;AAETC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,YAAIA,GAAG,CAACG,IAAJ,KAAa,QAAjB,EAA2B;AAEvBF,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAFuB,CAGvB;;AACA,gBAAKE,QAAL,CAAc;AAAEP,YAAAA,QAAQ,EAAE;AAAZ,WAAd;AACH;AACJ,OAXL,EAcKQ,KAdL,CAcW,UAAAC,GAAG;AAAA,eAAIL,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAAJ;AAAA,OAdd;AAeH,K;;UAEDC,M,GAAS,YAAM;AAEX,YAAKH,QAAL,CAAc;AAAER,QAAAA,UAAU,EAAE;AAAd,OAAd;AACH,K;;UAEDY,U,GAAa,YAAM;AACf,UAAI,MAAKb,KAAL,CAAWC,UAAf,EAA2B;AACvB,4BAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;AAAA;AACJ,K;;;;;;;wCAjCmB;AAChB,WAAKE,SAAL;AACH;;;6BAiCQ;AACL,aACI,KAAKH,KAAL,CAAWE,QAAX,gBAAqB,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAArB,gBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CADJ,eAII;AAAQ,QAAA,OAAO,EAAE,KAAKU,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJJ,eAKI;AAAQ,QAAA,OAAO,EAAE;AAAA,iBAAME,MAAM,CAACC,QAAP,GAAkB,SAAxB;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBALJ,EAMK,KAAKF,UAAL,EANL,CAFJ;AAYH;;;;EAxDelB,S;;AAyDnB;AAGD,eAAeI,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport Google from \"./google.js\";\nimport API from \"../utils/Api\";\nimport { Redirect } from \"react-router-dom\";\n\nclass Login extends Component {\n\n    state = {\n        showGoogle: \"\",\n        redirect: \"\"\n\n    };\n\n    componentDidMount() {\n        this.checkUser()\n    }\n\n\n    checkUser = () => {\n        // console.log(event.target.value)\n        API.checkUser()\n            // .then(res => this.setState({ user: res.data.user.username }))\n            .then(res => {\n\n                console.log(res)\n                if (res.data !== \"NoUser\") {\n\n                    console.log(\"in redirect\")\n                    // return <Redirect to=\"/login\" />\n                    this.setState({ redirect: \"Yes\" })\n                }\n            }\n\n            )           \n            .catch(err => console.log(err));\n    }\n\n    google = () => {\n\n        this.setState({ showGoogle: true })\n    }\n\n    renderPage = () => {\n        if (this.state.showGoogle) {\n            return <Google />;\n        };\n    }\n\n    render() {\n        return (\n            this.state.redirect ?<Redirect to=\"/home\" /> : \n            <div>\n                <h4>Welcome to SentiBot. Please Log in.</h4>\n                {/* <button onClick={() => window.location = '/home'}>Login</button> */}\n\n                <button onClick={this.google}>Login</button>\n                <button onClick={() => window.location = '/signup'}>Sign Up</button>\n                {this.renderPage()}\n\n            </div>\n        )\n    }\n};\n\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}